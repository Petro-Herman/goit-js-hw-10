{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["// const flatpickr = require('flatpickr');\nimport flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  const datetimePicker = document.getElementById('datetime-picker');\n  const startButton = document.getElementById('start-button');\n  const daysValue = document.querySelector('[data-days]');\n  const hoursValue = document.querySelector('[data-hours]');\n  const minutesValue = document.querySelector('[data-minutes]');\n  const secondsValue = document.querySelector('[data-seconds]');\n\n  let countdownInterval;\n\n  function addLeadingZero(value) {\n    return String(value).padStart(2, '0');\n  }\n\n  function calculateTimeLeft(endTime) {\n    const difference = endTime - Date.now();\n\n    if (difference <= 0) {\n      clearInterval(countdownInterval);\n      return {\n        total: 0,\n        days: '00',\n        hours: '00',\n        minutes: '00',\n        seconds: '00',\n      };\n    }\n\n    const days = Math.floor(difference / (1000 * 60 * 60 * 24));\n    const hours = Math.floor(\n      (difference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)\n    );\n    const minutes = Math.floor((difference % (1000 * 60 * 60)) / (1000 * 60));\n    const seconds = Math.floor((difference % (1000 * 60)) / 1000);\n\n    return {\n      total: difference,\n      days: addLeadingZero(days),\n      hours: addLeadingZero(hours),\n      minutes: addLeadingZero(minutes),\n      seconds: addLeadingZero(seconds),\n    };\n  }\n\n  function handleStartButtonClick() {\n    const selectedDate = new Date(datetimePicker.value);\n\n    if (selectedDate <= Date.now()) {\n      iziToast.error({\n        title: 'Error',\n        message: 'Please choose a date in the future.',\n      });\n      return;\n    }\n\n    startButton.disabled = true;\n    datetimePicker.disabled = true;\n\n    countdownInterval = setInterval(() => {\n      const timeLeft = calculateTimeLeft(selectedDate);\n\n      daysValue.textContent = timeLeft.days;\n      hoursValue.textContent = timeLeft.hours;\n      minutesValue.textContent = timeLeft.minutes;\n      secondsValue.textContent = timeLeft.seconds;\n\n      if (timeLeft.total === 0) {\n        clearInterval(countdownInterval);\n        startButton.disabled = false;\n        datetimePicker.disabled = false;\n      }\n    }, 1000);\n  }\n\n  flatpickr(datetimePicker, {\n    enableTime: true,\n    time_24hr: true,\n    minuteIncrement: 1,\n    onClose: function (selectedDates) {\n      const selectedDate = selectedDates[0];\n\n      if (selectedDate <= Date.now()) {\n        startButton.disabled = true;\n        iziToast.error({\n          title: 'Error',\n          message: 'Please choose a date in the future.',\n        });\n      } else {\n        startButton.disabled = false;\n      }\n    },\n  });\n\n  startButton.addEventListener('click', handleStartButtonClick);\n});\n"],"names":["datetimePicker","startButton","daysValue","hoursValue","minutesValue","secondsValue","countdownInterval","addLeadingZero","value","calculateTimeLeft","endTime","difference","days","hours","minutes","seconds","handleStartButtonClick","selectedDate","timeLeft","flatpickr","selectedDates"],"mappings":"oGAIA,SAAS,iBAAiB,mBAAoB,UAAY,CACxD,MAAMA,EAAiB,SAAS,eAAe,iBAAiB,EAC1DC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAe,SAAS,cAAc,gBAAgB,EAE5D,IAAIC,EAEJ,SAASC,EAAeC,EAAO,CAC7B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACrC,CAED,SAASC,EAAkBC,EAAS,CAClC,MAAMC,EAAaD,EAAU,KAAK,IAAG,EAErC,GAAIC,GAAc,EAChB,qBAAcL,CAAiB,EACxB,CACL,MAAO,EACP,KAAM,KACN,MAAO,KACP,QAAS,KACT,QAAS,IACjB,EAGI,MAAMM,EAAO,KAAK,MAAMD,GAAc,IAAO,GAAK,GAAK,GAAG,EACpDE,EAAQ,KAAK,MAChBF,GAAc,IAAO,GAAK,GAAK,KAAQ,IAAO,GAAK,GAC1D,EACUG,EAAU,KAAK,MAAOH,GAAc,IAAO,GAAK,KAAQ,IAAO,GAAG,EAClEI,EAAU,KAAK,MAAOJ,GAAc,IAAO,IAAO,GAAI,EAE5D,MAAO,CACL,MAAOA,EACP,KAAMJ,EAAeK,CAAI,EACzB,MAAOL,EAAeM,CAAK,EAC3B,QAASN,EAAeO,CAAO,EAC/B,QAASP,EAAeQ,CAAO,CACrC,CACG,CAED,SAASC,GAAyB,CAChC,MAAMC,EAAe,IAAI,KAAKjB,EAAe,KAAK,EAElD,GAAIiB,GAAgB,KAAK,MAAO,CAC9B,SAAS,MAAM,CACb,MAAO,QACP,QAAS,qCACjB,CAAO,EACD,MACD,CAEDhB,EAAY,SAAW,GACvBD,EAAe,SAAW,GAE1BM,EAAoB,YAAY,IAAM,CACpC,MAAMY,EAAWT,EAAkBQ,CAAY,EAE/Cf,EAAU,YAAcgB,EAAS,KACjCf,EAAW,YAAce,EAAS,MAClCd,EAAa,YAAcc,EAAS,QACpCb,EAAa,YAAca,EAAS,QAEhCA,EAAS,QAAU,IACrB,cAAcZ,CAAiB,EAC/BL,EAAY,SAAW,GACvBD,EAAe,SAAW,GAE7B,EAAE,GAAI,CACR,CAEDmB,EAAUnB,EAAgB,CACxB,WAAY,GACZ,UAAW,GACX,gBAAiB,EACjB,QAAS,SAAUoB,EAAe,CACXA,EAAc,CAAC,GAEhB,KAAK,OACvBnB,EAAY,SAAW,GACvB,SAAS,MAAM,CACb,MAAO,QACP,QAAS,qCACnB,CAAS,GAEDA,EAAY,SAAW,EAE1B,CACL,CAAG,EAEDA,EAAY,iBAAiB,QAASe,CAAsB,CAC9D,CAAC"}